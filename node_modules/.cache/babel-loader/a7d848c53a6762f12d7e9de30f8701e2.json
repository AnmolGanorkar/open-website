{"ast":null,"code":"/*! Magnific Popup - v1.1.0 - 2016-02-20\r\n* http://dimsemenov.com/plugins/magnific-popup/\r\n* Copyright (c) 2016 Dmitry Semenov; */\n;\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module. \n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS \n    factory(require('jquery'));\n  } else {\n    // Browser globals \n    factory(window.jQuery || window.Zepto);\n  }\n})(function ($) {\n  /*>>core*/\n\n  /**\r\n   * \r\n   * Magnific Popup Core JS file\r\n   * \r\n   */\n\n  /**\r\n   * Private static constants\r\n   */\n  var CLOSE_EVENT = 'Close',\n      BEFORE_CLOSE_EVENT = 'BeforeClose',\n      AFTER_CLOSE_EVENT = 'AfterClose',\n      BEFORE_APPEND_EVENT = 'BeforeAppend',\n      MARKUP_PARSE_EVENT = 'MarkupParse',\n      OPEN_EVENT = 'Open',\n      CHANGE_EVENT = 'Change',\n      NS = 'mfp',\n      EVENT_NS = '.' + NS,\n      READY_CLASS = 'mfp-ready',\n      REMOVING_CLASS = 'mfp-removing',\n      PREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n  /**\r\n   * Private vars \r\n   */\n\n  /*jshint -W079 */\n\n  var mfp,\n      // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n  MagnificPopup = function () {},\n      _isJQ = !!window.jQuery,\n      _prevStatus,\n      _window = $(window),\n      _document,\n      _prevContentType,\n      _wrapClasses,\n      _currPopupType;\n  /**\r\n   * Private functions\r\n   */\n\n\n  var _mfpOn = function (name, f) {\n    mfp.ev.on(NS + name + EVENT_NS, f);\n  },\n      _getEl = function (className, appendTo, html, raw) {\n    var el = document.createElement('div');\n    el.className = 'mfp-' + className;\n\n    if (html) {\n      el.innerHTML = html;\n    }\n\n    if (!raw) {\n      el = $(el);\n\n      if (appendTo) {\n        el.appendTo(appendTo);\n      }\n    } else if (appendTo) {\n      appendTo.appendChild(el);\n    }\n\n    return el;\n  },\n      _mfpTrigger = function (e, data) {\n    mfp.ev.triggerHandler(NS + e, data);\n\n    if (mfp.st.callbacks) {\n      // converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n      e = e.charAt(0).toLowerCase() + e.slice(1);\n\n      if (mfp.st.callbacks[e]) {\n        mfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n      }\n    }\n  },\n      _getCloseBtn = function (type) {\n    if (type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n      mfp.currTemplate.closeBtn = $(mfp.st.closeMarkup.replace('%title%', mfp.st.tClose));\n      _currPopupType = type;\n    }\n\n    return mfp.currTemplate.closeBtn;\n  },\n      // Initialize Magnific Popup only when called at least once\n  _checkInstance = function () {\n    if (!$.magnificPopup.instance) {\n      /*jshint -W020 */\n      mfp = new MagnificPopup();\n      mfp.init();\n      $.magnificPopup.instance = mfp;\n    }\n  },\n      // CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n  supportsTransitions = function () {\n    var s = document.createElement('p').style,\n        // 's' for style. better to create an element if body yet to exist\n    v = ['ms', 'O', 'Moz', 'Webkit']; // 'v' for vendor\n\n    if (s['transition'] !== undefined) {\n      return true;\n    }\n\n    while (v.length) {\n      if (v.pop() + 'Transition' in s) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\r\n   * Public functions\r\n   */\n\n\n  MagnificPopup.prototype = {\n    constructor: MagnificPopup,\n\n    /**\r\n     * Initializes Magnific Popup plugin. \r\n     * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\r\n     */\n    init: function () {\n      var appVersion = navigator.appVersion;\n      mfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n      mfp.isAndroid = /android/gi.test(appVersion);\n      mfp.isIOS = /iphone|ipad|ipod/gi.test(appVersion);\n      mfp.supportsTransition = supportsTransitions(); // We disable fixed positioned lightbox on devices that don't handle it nicely.\n      // If you know a better way of detecting this - let me know.\n\n      mfp.probablyMobile = mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);\n      _document = $(document);\n      mfp.popupsCache = {};\n    },\n\n    /**\r\n     * Opens popup\r\n     * @param  data [description]\r\n     */\n    open: function (data) {\n      var i;\n\n      if (data.isObj === false) {\n        // convert jQuery collection to array to avoid conflicts later\n        mfp.items = data.items.toArray();\n        mfp.index = 0;\n        var items = data.items,\n            item;\n\n        for (i = 0; i < items.length; i++) {\n          item = items[i];\n\n          if (item.parsed) {\n            item = item.el[0];\n          }\n\n          if (item === data.el[0]) {\n            mfp.index = i;\n            break;\n          }\n        }\n      } else {\n        mfp.items = $.isArray(data.items) ? data.items : [data.items];\n        mfp.index = data.index || 0;\n      } // if popup is already opened - we just update the content\n\n\n      if (mfp.isOpen) {\n        mfp.updateItemHTML();\n        return;\n      }\n\n      mfp.types = [];\n      _wrapClasses = '';\n\n      if (data.mainEl && data.mainEl.length) {\n        mfp.ev = data.mainEl.eq(0);\n      } else {\n        mfp.ev = _document;\n      }\n\n      if (data.key) {\n        if (!mfp.popupsCache[data.key]) {\n          mfp.popupsCache[data.key] = {};\n        }\n\n        mfp.currTemplate = mfp.popupsCache[data.key];\n      } else {\n        mfp.currTemplate = {};\n      }\n\n      mfp.st = $.extend(true, {}, $.magnificPopup.defaults, data);\n      mfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n      if (mfp.st.modal) {\n        mfp.st.closeOnContentClick = false;\n        mfp.st.closeOnBgClick = false;\n        mfp.st.showCloseBtn = false;\n        mfp.st.enableEscapeKey = false;\n      } // Building markup\n      // main containers are created only once\n\n\n      if (!mfp.bgOverlay) {\n        // Dark overlay\n        mfp.bgOverlay = _getEl('bg').on('click' + EVENT_NS, function () {\n          mfp.close();\n        });\n        mfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click' + EVENT_NS, function (e) {\n          if (mfp._checkIfClose(e.target)) {\n            mfp.close();\n          }\n        });\n        mfp.container = _getEl('container', mfp.wrap);\n      }\n\n      mfp.contentContainer = _getEl('content');\n\n      if (mfp.st.preloader) {\n        mfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n      } // Initializing modules\n\n\n      var modules = $.magnificPopup.modules;\n\n      for (i = 0; i < modules.length; i++) {\n        var n = modules[i];\n        n = n.charAt(0).toUpperCase() + n.slice(1);\n        mfp['init' + n].call(mfp);\n      }\n\n      _mfpTrigger('BeforeOpen');\n\n      if (mfp.st.showCloseBtn) {\n        // Close button\n        if (!mfp.st.closeBtnInside) {\n          mfp.wrap.append(_getCloseBtn());\n        } else {\n          _mfpOn(MARKUP_PARSE_EVENT, function (e, template, values, item) {\n            values.close_replaceWith = _getCloseBtn(item.type);\n          });\n\n          _wrapClasses += ' mfp-close-btn-in';\n        }\n      }\n\n      if (mfp.st.alignTop) {\n        _wrapClasses += ' mfp-align-top';\n      }\n\n      if (mfp.fixedContentPos) {\n        mfp.wrap.css({\n          overflow: mfp.st.overflowY,\n          overflowX: 'hidden',\n          overflowY: mfp.st.overflowY\n        });\n      } else {\n        mfp.wrap.css({\n          top: _window.scrollTop(),\n          position: 'absolute'\n        });\n      }\n\n      if (mfp.st.fixedBgPos === false || mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) {\n        mfp.bgOverlay.css({\n          height: _document.height(),\n          position: 'absolute'\n        });\n      }\n\n      if (mfp.st.enableEscapeKey) {\n        // Close on ESC key\n        _document.on('keyup' + EVENT_NS, function (e) {\n          if (e.keyCode === 27) {\n            mfp.close();\n          }\n        });\n      }\n\n      _window.on('resize' + EVENT_NS, function () {\n        mfp.updateSize();\n      });\n\n      if (!mfp.st.closeOnContentClick) {\n        _wrapClasses += ' mfp-auto-cursor';\n      }\n\n      if (_wrapClasses) mfp.wrap.addClass(_wrapClasses); // this triggers recalculation of layout, so we get it once to not to trigger twice\n\n      var windowHeight = mfp.wH = _window.height();\n\n      var windowStyles = {};\n\n      if (mfp.fixedContentPos) {\n        if (mfp._hasScrollBar(windowHeight)) {\n          var s = mfp._getScrollbarSize();\n\n          if (s) {\n            windowStyles.marginRight = s;\n          }\n        }\n      }\n\n      if (mfp.fixedContentPos) {\n        if (!mfp.isIE7) {\n          windowStyles.overflow = 'hidden';\n        } else {\n          // ie7 double-scroll bug\n          $('body, html').css('overflow', 'hidden');\n        }\n      }\n\n      var classesToadd = mfp.st.mainClass;\n\n      if (mfp.isIE7) {\n        classesToadd += ' mfp-ie7';\n      }\n\n      if (classesToadd) {\n        mfp._addClassToMFP(classesToadd);\n      } // add content\n\n\n      mfp.updateItemHTML();\n\n      _mfpTrigger('BuildControls'); // remove scrollbar, add margin e.t.c\n\n\n      $('html').css(windowStyles); // add everything to DOM\n\n      mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo || $(document.body)); // Save last focused element\n\n      mfp._lastFocusedEl = document.activeElement; // Wait for next cycle to allow CSS transition\n\n      setTimeout(function () {\n        if (mfp.content) {\n          mfp._addClassToMFP(READY_CLASS);\n\n          mfp._setFocus();\n        } else {\n          // if content is not defined (not loaded e.t.c) we add class only for BG\n          mfp.bgOverlay.addClass(READY_CLASS);\n        } // Trap the focus in popup\n\n\n        _document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n      }, 16);\n      mfp.isOpen = true;\n      mfp.updateSize(windowHeight);\n\n      _mfpTrigger(OPEN_EVENT);\n\n      return data;\n    },\n\n    /**\r\n     * Closes the popup\r\n     */\n    close: function () {\n      if (!mfp.isOpen) return;\n\n      _mfpTrigger(BEFORE_CLOSE_EVENT);\n\n      mfp.isOpen = false; // for CSS3 animation\n\n      if (mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition) {\n        mfp._addClassToMFP(REMOVING_CLASS);\n\n        setTimeout(function () {\n          mfp._close();\n        }, mfp.st.removalDelay);\n      } else {\n        mfp._close();\n      }\n    },\n\n    /**\r\n     * Helper for close() function\r\n     */\n    _close: function () {\n      _mfpTrigger(CLOSE_EVENT);\n\n      var classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n      mfp.bgOverlay.detach();\n      mfp.wrap.detach();\n      mfp.container.empty();\n\n      if (mfp.st.mainClass) {\n        classesToRemove += mfp.st.mainClass + ' ';\n      }\n\n      mfp._removeClassFromMFP(classesToRemove);\n\n      if (mfp.fixedContentPos) {\n        var windowStyles = {\n          marginRight: ''\n        };\n\n        if (mfp.isIE7) {\n          $('body, html').css('overflow', '');\n        } else {\n          windowStyles.overflow = '';\n        }\n\n        $('html').css(windowStyles);\n      }\n\n      _document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\n      mfp.ev.off(EVENT_NS); // clean up DOM elements that aren't removed\n\n      mfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n      mfp.bgOverlay.attr('class', 'mfp-bg');\n      mfp.container.attr('class', 'mfp-container'); // remove close button from target element\n\n      if (mfp.st.showCloseBtn && (!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n        if (mfp.currTemplate.closeBtn) mfp.currTemplate.closeBtn.detach();\n      }\n\n      if (mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n        $(mfp._lastFocusedEl).focus(); // put tab focus back\n      }\n\n      mfp.currItem = null;\n      mfp.content = null;\n      mfp.currTemplate = null;\n      mfp.prevHeight = 0;\n\n      _mfpTrigger(AFTER_CLOSE_EVENT);\n    },\n    updateSize: function (winHeight) {\n      if (mfp.isIOS) {\n        // fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n        var zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n        var height = window.innerHeight * zoomLevel;\n        mfp.wrap.css('height', height);\n        mfp.wH = height;\n      } else {\n        mfp.wH = winHeight || _window.height();\n      } // Fixes #84: popup incorrectly positioned with position:relative on body\n\n\n      if (!mfp.fixedContentPos) {\n        mfp.wrap.css('height', mfp.wH);\n      }\n\n      _mfpTrigger('Resize');\n    },\n\n    /**\r\n     * Set content of popup based on current index\r\n     */\n    updateItemHTML: function () {\n      var item = mfp.items[mfp.index]; // Detach and perform modifications\n\n      mfp.contentContainer.detach();\n      if (mfp.content) mfp.content.detach();\n\n      if (!item.parsed) {\n        item = mfp.parseEl(mfp.index);\n      }\n\n      var type = item.type;\n\n      _mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]); // BeforeChange event works like so:\n      // _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\n      mfp.currItem = item;\n\n      if (!mfp.currTemplate[type]) {\n        var markup = mfp.st[type] ? mfp.st[type].markup : false; // allows to modify markup\n\n        _mfpTrigger('FirstMarkupParse', markup);\n\n        if (markup) {\n          mfp.currTemplate[type] = $(markup);\n        } else {\n          // if there is no markup found we just define that template is parsed\n          mfp.currTemplate[type] = true;\n        }\n      }\n\n      if (_prevContentType && _prevContentType !== item.type) {\n        mfp.container.removeClass('mfp-' + _prevContentType + '-holder');\n      }\n\n      var newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n      mfp.appendContent(newContent, type);\n      item.preloaded = true;\n\n      _mfpTrigger(CHANGE_EVENT, item);\n\n      _prevContentType = item.type; // Append container back after its content changed\n\n      mfp.container.prepend(mfp.contentContainer);\n\n      _mfpTrigger('AfterChange');\n    },\n\n    /**\r\n     * Set HTML content of popup\r\n     */\n    appendContent: function (newContent, type) {\n      mfp.content = newContent;\n\n      if (newContent) {\n        if (mfp.st.showCloseBtn && mfp.st.closeBtnInside && mfp.currTemplate[type] === true) {\n          // if there is no markup, we just append close button element inside\n          if (!mfp.content.find('.mfp-close').length) {\n            mfp.content.append(_getCloseBtn());\n          }\n        } else {\n          mfp.content = newContent;\n        }\n      } else {\n        mfp.content = '';\n      }\n\n      _mfpTrigger(BEFORE_APPEND_EVENT);\n\n      mfp.container.addClass('mfp-' + type + '-holder');\n      mfp.contentContainer.append(mfp.content);\n    },\n\n    /**\r\n     * Creates Magnific Popup data object based on given data\r\n     * @param  {int} index Index of item to parse\r\n     */\n    parseEl: function (index) {\n      var item = mfp.items[index],\n          type;\n\n      if (item.tagName) {\n        item = {\n          el: $(item)\n        };\n      } else {\n        type = item.type;\n        item = {\n          data: item,\n          src: item.src\n        };\n      }\n\n      if (item.el) {\n        var types = mfp.types; // check for 'mfp-TYPE' class\n\n        for (var i = 0; i < types.length; i++) {\n          if (item.el.hasClass('mfp-' + types[i])) {\n            type = types[i];\n            break;\n          }\n        }\n\n        item.src = item.el.attr('data-mfp-src');\n\n        if (!item.src) {\n          item.src = item.el.attr('href');\n        }\n      }\n\n      item.type = type || mfp.st.type || 'inline';\n      item.index = index;\n      item.parsed = true;\n      mfp.items[index] = item;\n\n      _mfpTrigger('ElementParse', item);\n\n      return mfp.items[index];\n    },\n\n    /**\r\n     * Initializes single popup or a group of popups\r\n     */\n    addGroup: function (el, options) {\n      var eHandler = function (e) {\n        e.mfpEl = this;\n\n        mfp._openClick(e, el, options);\n      };\n\n      if (!options) {\n        options = {};\n      }\n\n      var eName = 'click.magnificPopup';\n      options.mainEl = el;\n\n      if (options.items) {\n        options.isObj = true;\n        el.off(eName).on(eName, eHandler);\n      } else {\n        options.isObj = false;\n\n        if (options.delegate) {\n          el.off(eName).on(eName, options.delegate, eHandler);\n        } else {\n          options.items = el;\n          el.off(eName).on(eName, eHandler);\n        }\n      }\n    },\n    _openClick: function (e, el, options) {\n      var midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n      if (!midClick && (e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey)) {\n        return;\n      }\n\n      var disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n      if (disableOn) {\n        if ($.isFunction(disableOn)) {\n          if (!disableOn.call(mfp)) {\n            return true;\n          }\n        } else {\n          // else it's number\n          if (_window.width() < disableOn) {\n            return true;\n          }\n        }\n      }\n\n      if (e.type) {\n        e.preventDefault(); // This will prevent popup from closing if element is inside and popup is already opened\n\n        if (mfp.isOpen) {\n          e.stopPropagation();\n        }\n      }\n\n      options.el = $(e.mfpEl);\n\n      if (options.delegate) {\n        options.items = el.find(options.delegate);\n      }\n\n      mfp.open(options);\n    },\n\n    /**\r\n     * Updates text on preloader\r\n     */\n    updateStatus: function (status, text) {\n      if (mfp.preloader) {\n        if (_prevStatus !== status) {\n          mfp.container.removeClass('mfp-s-' + _prevStatus);\n        }\n\n        if (!text && status === 'loading') {\n          text = mfp.st.tLoading;\n        }\n\n        var data = {\n          status: status,\n          text: text\n        }; // allows to modify status\n\n        _mfpTrigger('UpdateStatus', data);\n\n        status = data.status;\n        text = data.text;\n        mfp.preloader.html(text);\n        mfp.preloader.find('a').on('click', function (e) {\n          e.stopImmediatePropagation();\n        });\n        mfp.container.addClass('mfp-s-' + status);\n        _prevStatus = status;\n      }\n    },\n\n    /*\r\n    \t\"Private\" helpers that aren't private at all\r\n     */\n    // Check to close popup or not\n    // \"target\" is an element that was clicked\n    _checkIfClose: function (target) {\n      if ($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n        return;\n      }\n\n      var closeOnContent = mfp.st.closeOnContentClick;\n      var closeOnBg = mfp.st.closeOnBgClick;\n\n      if (closeOnContent && closeOnBg) {\n        return true;\n      } else {\n        // We close the popup if click is on close button or on preloader. Or if there is no content.\n        if (!mfp.content || $(target).hasClass('mfp-close') || mfp.preloader && target === mfp.preloader[0]) {\n          return true;\n        } // if click is outside the content\n\n\n        if (target !== mfp.content[0] && !$.contains(mfp.content[0], target)) {\n          if (closeOnBg) {\n            // last check, if the clicked element is in DOM, (in case it's removed onclick)\n            if ($.contains(document, target)) {\n              return true;\n            }\n          }\n        } else if (closeOnContent) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    _addClassToMFP: function (cName) {\n      mfp.bgOverlay.addClass(cName);\n      mfp.wrap.addClass(cName);\n    },\n    _removeClassFromMFP: function (cName) {\n      this.bgOverlay.removeClass(cName);\n      mfp.wrap.removeClass(cName);\n    },\n    _hasScrollBar: function (winHeight) {\n      return (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height());\n    },\n    _setFocus: function () {\n      (mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n    },\n    _onFocusIn: function (e) {\n      if (e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target)) {\n        mfp._setFocus();\n\n        return false;\n      }\n    },\n    _parseMarkup: function (template, values, item) {\n      var arr;\n\n      if (item.data) {\n        values = $.extend(item.data, values);\n      }\n\n      _mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item]);\n\n      $.each(values, function (key, value) {\n        if (value === undefined || value === false) {\n          return true;\n        }\n\n        arr = key.split('_');\n\n        if (arr.length > 1) {\n          var el = template.find(EVENT_NS + '-' + arr[0]);\n\n          if (el.length > 0) {\n            var attr = arr[1];\n\n            if (attr === 'replaceWith') {\n              if (el[0] !== value[0]) {\n                el.replaceWith(value);\n              }\n            } else if (attr === 'img') {\n              if (el.is('img')) {\n                el.attr('src', value);\n              } else {\n                el.replaceWith($('<img>').attr('src', value).attr('class', el.attr('class')));\n              }\n            } else {\n              el.attr(arr[1], value);\n            }\n          }\n        } else {\n          template.find(EVENT_NS + '-' + key).html(value);\n        }\n      });\n    },\n    _getScrollbarSize: function () {\n      // thx David\n      if (mfp.scrollbarSize === undefined) {\n        var scrollDiv = document.createElement(\"div\");\n        scrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n        document.body.appendChild(scrollDiv);\n        mfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        document.body.removeChild(scrollDiv);\n      }\n\n      return mfp.scrollbarSize;\n    }\n  };\n  /* MagnificPopup core prototype end */\n\n  /**\r\n   * Public static functions\r\n   */\n\n  $.magnificPopup = {\n    instance: null,\n    proto: MagnificPopup.prototype,\n    modules: [],\n    open: function (options, index) {\n      _checkInstance();\n\n      if (!options) {\n        options = {};\n      } else {\n        options = $.extend(true, {}, options);\n      }\n\n      options.isObj = true;\n      options.index = index || 0;\n      return this.instance.open(options);\n    },\n    close: function () {\n      return $.magnificPopup.instance && $.magnificPopup.instance.close();\n    },\n    registerModule: function (name, module) {\n      if (module.options) {\n        $.magnificPopup.defaults[name] = module.options;\n      }\n\n      $.extend(this.proto, module.proto);\n      this.modules.push(name);\n    },\n    defaults: {\n      // Info about options is in docs:\n      // http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n      disableOn: 0,\n      key: null,\n      midClick: false,\n      mainClass: '',\n      preloader: true,\n      focus: '',\n      // CSS selector of input to focus after popup is opened\n      closeOnContentClick: false,\n      closeOnBgClick: true,\n      closeBtnInside: true,\n      showCloseBtn: true,\n      enableEscapeKey: true,\n      modal: false,\n      alignTop: false,\n      removalDelay: 0,\n      prependTo: null,\n      fixedContentPos: 'auto',\n      fixedBgPos: 'auto',\n      overflowY: 'auto',\n      closeMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n      tClose: 'Close (Esc)',\n      tLoading: 'Loading...',\n      autoFocusLast: true\n    }\n  };\n\n  $.fn.magnificPopup = function (options) {\n    _checkInstance();\n\n    var jqEl = $(this); // We call some API method of first param is a string\n\n    if (typeof options === \"string\") {\n      if (options === 'open') {\n        var items,\n            itemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n            index = parseInt(arguments[1], 10) || 0;\n\n        if (itemOpts.items) {\n          items = itemOpts.items[index];\n        } else {\n          items = jqEl;\n\n          if (itemOpts.delegate) {\n            items = items.find(itemOpts.delegate);\n          }\n\n          items = items.eq(index);\n        }\n\n        mfp._openClick({\n          mfpEl: items\n        }, jqEl, itemOpts);\n      } else {\n        if (mfp.isOpen) mfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n      }\n    } else {\n      // clone options obj\n      options = $.extend(true, {}, options);\n      /*\r\n       * As Zepto doesn't support .data() method for objects\r\n       * and it works only in normal browsers\r\n       * we assign \"options\" object directly to the DOM element. FTW!\r\n       */\n\n      if (_isJQ) {\n        jqEl.data('magnificPopup', options);\n      } else {\n        jqEl[0].magnificPopup = options;\n      }\n\n      mfp.addGroup(jqEl, options);\n    }\n\n    return jqEl;\n  };\n  /*>>core*/\n\n  /*>>inline*/\n\n\n  var INLINE_NS = 'inline',\n      _hiddenClass,\n      _inlinePlaceholder,\n      _lastInlineElement,\n      _putInlineElementsBack = function () {\n    if (_lastInlineElement) {\n      _inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();\n\n      _lastInlineElement = null;\n    }\n  };\n\n  $.magnificPopup.registerModule(INLINE_NS, {\n    options: {\n      hiddenClass: 'hide',\n      // will be appended with `mfp-` prefix\n      markup: '',\n      tNotFound: 'Content not found'\n    },\n    proto: {\n      initInline: function () {\n        mfp.types.push(INLINE_NS);\n\n        _mfpOn(CLOSE_EVENT + '.' + INLINE_NS, function () {\n          _putInlineElementsBack();\n        });\n      },\n      getInline: function (item, template) {\n        _putInlineElementsBack();\n\n        if (item.src) {\n          var inlineSt = mfp.st.inline,\n              el = $(item.src);\n\n          if (el.length) {\n            // If target element has parent - we replace it with placeholder and put it back after popup is closed\n            var parent = el[0].parentNode;\n\n            if (parent && parent.tagName) {\n              if (!_inlinePlaceholder) {\n                _hiddenClass = inlineSt.hiddenClass;\n                _inlinePlaceholder = _getEl(_hiddenClass);\n                _hiddenClass = 'mfp-' + _hiddenClass;\n              } // replace target inline element with placeholder\n\n\n              _lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n            }\n\n            mfp.updateStatus('ready');\n          } else {\n            mfp.updateStatus('error', inlineSt.tNotFound);\n            el = $('<div>');\n          }\n\n          item.inlineElement = el;\n          return el;\n        }\n\n        mfp.updateStatus('ready');\n\n        mfp._parseMarkup(template, {}, item);\n\n        return template;\n      }\n    }\n  });\n  /*>>inline*/\n\n  /*>>ajax*/\n\n  var AJAX_NS = 'ajax',\n      _ajaxCur,\n      _removeAjaxCursor = function () {\n    if (_ajaxCur) {\n      $(document.body).removeClass(_ajaxCur);\n    }\n  },\n      _destroyAjaxRequest = function () {\n    _removeAjaxCursor();\n\n    if (mfp.req) {\n      mfp.req.abort();\n    }\n  };\n\n  $.magnificPopup.registerModule(AJAX_NS, {\n    options: {\n      settings: null,\n      cursor: 'mfp-ajax-cur',\n      tError: '<a href=\"%url%\">The content</a> could not be loaded.'\n    },\n    proto: {\n      initAjax: function () {\n        mfp.types.push(AJAX_NS);\n        _ajaxCur = mfp.st.ajax.cursor;\n\n        _mfpOn(CLOSE_EVENT + '.' + AJAX_NS, _destroyAjaxRequest);\n\n        _mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n      },\n      getAjax: function (item) {\n        if (_ajaxCur) {\n          $(document.body).addClass(_ajaxCur);\n        }\n\n        mfp.updateStatus('loading');\n        var opts = $.extend({\n          url: item.src,\n          success: function (data, textStatus, jqXHR) {\n            var temp = {\n              data: data,\n              xhr: jqXHR\n            };\n\n            _mfpTrigger('ParseAjax', temp);\n\n            mfp.appendContent($(temp.data), AJAX_NS);\n            item.finished = true;\n\n            _removeAjaxCursor();\n\n            mfp._setFocus();\n\n            setTimeout(function () {\n              mfp.wrap.addClass(READY_CLASS);\n            }, 16);\n            mfp.updateStatus('ready');\n\n            _mfpTrigger('AjaxContentAdded');\n          },\n          error: function () {\n            _removeAjaxCursor();\n\n            item.finished = item.loadError = true;\n            mfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n          }\n        }, mfp.st.ajax.settings);\n        mfp.req = $.ajax(opts);\n        return '';\n      }\n    }\n  });\n  /*>>ajax*/\n\n  /*>>image*/\n\n  var _imgInterval,\n      _getTitle = function (item) {\n    if (item.data && item.data.title !== undefined) return item.data.title;\n    var src = mfp.st.image.titleSrc;\n\n    if (src) {\n      if ($.isFunction(src)) {\n        return src.call(mfp, item);\n      } else if (item.el) {\n        return item.el.attr(src) || '';\n      }\n    }\n\n    return '';\n  };\n\n  $.magnificPopup.registerModule('image', {\n    options: {\n      markup: '<div class=\"mfp-figure\">' + '<div class=\"mfp-close\"></div>' + '<figure>' + '<div class=\"mfp-img\"></div>' + '<figcaption>' + '<div class=\"mfp-bottom-bar\">' + '<div class=\"mfp-title\"></div>' + '<div class=\"mfp-counter\"></div>' + '</div>' + '</figcaption>' + '</figure>' + '</div>',\n      cursor: 'mfp-zoom-out-cur',\n      titleSrc: 'title',\n      verticalFit: true,\n      tError: '<a href=\"%url%\">The image</a> could not be loaded.'\n    },\n    proto: {\n      initImage: function () {\n        var imgSt = mfp.st.image,\n            ns = '.image';\n        mfp.types.push('image');\n\n        _mfpOn(OPEN_EVENT + ns, function () {\n          if (mfp.currItem.type === 'image' && imgSt.cursor) {\n            $(document.body).addClass(imgSt.cursor);\n          }\n        });\n\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          if (imgSt.cursor) {\n            $(document.body).removeClass(imgSt.cursor);\n          }\n\n          _window.off('resize' + EVENT_NS);\n        });\n\n        _mfpOn('Resize' + ns, mfp.resizeImage);\n\n        if (mfp.isLowIE) {\n          _mfpOn('AfterChange', mfp.resizeImage);\n        }\n      },\n      resizeImage: function () {\n        var item = mfp.currItem;\n        if (!item || !item.img) return;\n\n        if (mfp.st.image.verticalFit) {\n          var decr = 0; // fix box-sizing in ie7/8\n\n          if (mfp.isLowIE) {\n            decr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'), 10);\n          }\n\n          item.img.css('max-height', mfp.wH - decr);\n        }\n      },\n      _onImageHasSize: function (item) {\n        if (item.img) {\n          item.hasSize = true;\n\n          if (_imgInterval) {\n            clearInterval(_imgInterval);\n          }\n\n          item.isCheckingImgSize = false;\n\n          _mfpTrigger('ImageHasSize', item);\n\n          if (item.imgHidden) {\n            if (mfp.content) mfp.content.removeClass('mfp-loading');\n            item.imgHidden = false;\n          }\n        }\n      },\n\n      /**\r\n       * Function that loops until the image has size to display elements that rely on it asap\r\n       */\n      findImageSize: function (item) {\n        var counter = 0,\n            img = item.img[0],\n            mfpSetInterval = function (delay) {\n          if (_imgInterval) {\n            clearInterval(_imgInterval);\n          } // decelerating interval that checks for size of an image\n\n\n          _imgInterval = setInterval(function () {\n            if (img.naturalWidth > 0) {\n              mfp._onImageHasSize(item);\n\n              return;\n            }\n\n            if (counter > 200) {\n              clearInterval(_imgInterval);\n            }\n\n            counter++;\n\n            if (counter === 3) {\n              mfpSetInterval(10);\n            } else if (counter === 40) {\n              mfpSetInterval(50);\n            } else if (counter === 100) {\n              mfpSetInterval(500);\n            }\n          }, delay);\n        };\n\n        mfpSetInterval(1);\n      },\n      getImage: function (item, template) {\n        var guard = 0,\n            // image load complete handler\n        onLoadComplete = function () {\n          if (item) {\n            if (item.img[0].complete) {\n              item.img.off('.mfploader');\n\n              if (item === mfp.currItem) {\n                mfp._onImageHasSize(item);\n\n                mfp.updateStatus('ready');\n              }\n\n              item.hasSize = true;\n              item.loaded = true;\n\n              _mfpTrigger('ImageLoadComplete');\n            } else {\n              // if image complete check fails 200 times (20 sec), we assume that there was an error.\n              guard++;\n\n              if (guard < 200) {\n                setTimeout(onLoadComplete, 100);\n              } else {\n                onLoadError();\n              }\n            }\n          }\n        },\n            // image error handler\n        onLoadError = function () {\n          if (item) {\n            item.img.off('.mfploader');\n\n            if (item === mfp.currItem) {\n              mfp._onImageHasSize(item);\n\n              mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n            }\n\n            item.hasSize = true;\n            item.loaded = true;\n            item.loadError = true;\n          }\n        },\n            imgSt = mfp.st.image;\n\n        var el = template.find('.mfp-img');\n\n        if (el.length) {\n          var img = document.createElement('img');\n          img.className = 'mfp-img';\n\n          if (item.el && item.el.find('img').length) {\n            img.alt = item.el.find('img').attr('alt');\n          }\n\n          item.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n          img.src = item.src; // without clone() \"error\" event is not firing when IMG is replaced by new IMG\n          // TODO: find a way to avoid such cloning\n\n          if (el.is('img')) {\n            item.img = item.img.clone();\n          }\n\n          img = item.img[0];\n\n          if (img.naturalWidth > 0) {\n            item.hasSize = true;\n          } else if (!img.width) {\n            item.hasSize = false;\n          }\n        }\n\n        mfp._parseMarkup(template, {\n          title: _getTitle(item),\n          img_replaceWith: item.img\n        }, item);\n\n        mfp.resizeImage();\n\n        if (item.hasSize) {\n          if (_imgInterval) clearInterval(_imgInterval);\n\n          if (item.loadError) {\n            template.addClass('mfp-loading');\n            mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n          } else {\n            template.removeClass('mfp-loading');\n            mfp.updateStatus('ready');\n          }\n\n          return template;\n        }\n\n        mfp.updateStatus('loading');\n        item.loading = true;\n\n        if (!item.hasSize) {\n          item.imgHidden = true;\n          template.addClass('mfp-loading');\n          mfp.findImageSize(item);\n        }\n\n        return template;\n      }\n    }\n  });\n  /*>>image*/\n\n  /*>>zoom*/\n\n  var hasMozTransform,\n      getHasMozTransform = function () {\n    if (hasMozTransform === undefined) {\n      hasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n    }\n\n    return hasMozTransform;\n  };\n\n  $.magnificPopup.registerModule('zoom', {\n    options: {\n      enabled: false,\n      easing: 'ease-in-out',\n      duration: 300,\n      opener: function (element) {\n        return element.is('img') ? element : element.find('img');\n      }\n    },\n    proto: {\n      initZoom: function () {\n        var zoomSt = mfp.st.zoom,\n            ns = '.zoom',\n            image;\n\n        if (!zoomSt.enabled || !mfp.supportsTransition) {\n          return;\n        }\n\n        var duration = zoomSt.duration,\n            getElToAnimate = function (image) {\n          var newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n              transition = 'all ' + zoomSt.duration / 1000 + 's ' + zoomSt.easing,\n              cssObj = {\n            position: 'fixed',\n            zIndex: 9999,\n            left: 0,\n            top: 0,\n            '-webkit-backface-visibility': 'hidden'\n          },\n              t = 'transition';\n          cssObj['-webkit-' + t] = cssObj['-moz-' + t] = cssObj['-o-' + t] = cssObj[t] = transition;\n          newImg.css(cssObj);\n          return newImg;\n        },\n            showMainContent = function () {\n          mfp.content.css('visibility', 'visible');\n        },\n            openTimeout,\n            animatedImg;\n\n        _mfpOn('BuildControls' + ns, function () {\n          if (mfp._allowZoom()) {\n            clearTimeout(openTimeout);\n            mfp.content.css('visibility', 'hidden'); // Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n            image = mfp._getItemToZoom();\n\n            if (!image) {\n              showMainContent();\n              return;\n            }\n\n            animatedImg = getElToAnimate(image);\n            animatedImg.css(mfp._getOffset());\n            mfp.wrap.append(animatedImg);\n            openTimeout = setTimeout(function () {\n              animatedImg.css(mfp._getOffset(true));\n              openTimeout = setTimeout(function () {\n                showMainContent();\n                setTimeout(function () {\n                  animatedImg.remove();\n                  image = animatedImg = null;\n\n                  _mfpTrigger('ZoomAnimationEnded');\n                }, 16); // avoid blink when switching images\n              }, duration); // this timeout equals animation duration\n            }, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n            // Lots of timeouts...\n          }\n        });\n\n        _mfpOn(BEFORE_CLOSE_EVENT + ns, function () {\n          if (mfp._allowZoom()) {\n            clearTimeout(openTimeout);\n            mfp.st.removalDelay = duration;\n\n            if (!image) {\n              image = mfp._getItemToZoom();\n\n              if (!image) {\n                return;\n              }\n\n              animatedImg = getElToAnimate(image);\n            }\n\n            animatedImg.css(mfp._getOffset(true));\n            mfp.wrap.append(animatedImg);\n            mfp.content.css('visibility', 'hidden');\n            setTimeout(function () {\n              animatedImg.css(mfp._getOffset());\n            }, 16);\n          }\n        });\n\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          if (mfp._allowZoom()) {\n            showMainContent();\n\n            if (animatedImg) {\n              animatedImg.remove();\n            }\n\n            image = null;\n          }\n        });\n      },\n      _allowZoom: function () {\n        return mfp.currItem.type === 'image';\n      },\n      _getItemToZoom: function () {\n        if (mfp.currItem.hasSize) {\n          return mfp.currItem.img;\n        } else {\n          return false;\n        }\n      },\n      // Get element postion relative to viewport\n      _getOffset: function (isLarge) {\n        var el;\n\n        if (isLarge) {\n          el = mfp.currItem.img;\n        } else {\n          el = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n        }\n\n        var offset = el.offset();\n        var paddingTop = parseInt(el.css('padding-top'), 10);\n        var paddingBottom = parseInt(el.css('padding-bottom'), 10);\n        offset.top -= $(window).scrollTop() - paddingTop;\n        /*\r\n        \t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\r\n        \t\t */\n\n        var obj = {\n          width: el.width(),\n          // fix Zepto height+padding issue\n          height: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n        }; // I hate to do this, but there is no another option\n\n        if (getHasMozTransform()) {\n          obj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n        } else {\n          obj.left = offset.left;\n          obj.top = offset.top;\n        }\n\n        return obj;\n      }\n    }\n  });\n  /*>>zoom*/\n\n  /*>>iframe*/\n\n  var IFRAME_NS = 'iframe',\n      _emptyPage = '//about:blank',\n      _fixIframeBugs = function (isShowing) {\n    if (mfp.currTemplate[IFRAME_NS]) {\n      var el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\n      if (el.length) {\n        // reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n        if (!isShowing) {\n          el[0].src = _emptyPage;\n        } // IE8 black screen bug fix\n\n\n        if (mfp.isIE8) {\n          el.css('display', isShowing ? 'block' : 'none');\n        }\n      }\n    }\n  };\n\n  $.magnificPopup.registerModule(IFRAME_NS, {\n    options: {\n      markup: '<div class=\"mfp-iframe-scaler\">' + '<div class=\"mfp-close\"></div>' + '<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>' + '</div>',\n      srcAction: 'iframe_src',\n      // we don't care and support only one default type of URL by default\n      patterns: {\n        youtube: {\n          index: 'youtube.com',\n          id: 'v=',\n          src: '//www.youtube.com/embed/%id%?autoplay=1'\n        },\n        vimeo: {\n          index: 'vimeo.com/',\n          id: '/',\n          src: '//player.vimeo.com/video/%id%?autoplay=1'\n        },\n        gmaps: {\n          index: '//maps.google.',\n          src: '%id%&output=embed'\n        }\n      }\n    },\n    proto: {\n      initIframe: function () {\n        mfp.types.push(IFRAME_NS);\n\n        _mfpOn('BeforeChange', function (e, prevType, newType) {\n          if (prevType !== newType) {\n            if (prevType === IFRAME_NS) {\n              _fixIframeBugs(); // iframe if removed\n\n            } else if (newType === IFRAME_NS) {\n              _fixIframeBugs(true); // iframe is showing\n\n            }\n          } // else {\n          // iframe source is switched, don't do anything\n          //}\n\n        });\n\n        _mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function () {\n          _fixIframeBugs();\n        });\n      },\n      getIframe: function (item, template) {\n        var embedSrc = item.src;\n        var iframeSt = mfp.st.iframe;\n        $.each(iframeSt.patterns, function () {\n          if (embedSrc.indexOf(this.index) > -1) {\n            if (this.id) {\n              if (typeof this.id === 'string') {\n                embedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id) + this.id.length, embedSrc.length);\n              } else {\n                embedSrc = this.id.call(this, embedSrc);\n              }\n            }\n\n            embedSrc = this.src.replace('%id%', embedSrc);\n            return false; // break;\n          }\n        });\n        var dataObj = {};\n\n        if (iframeSt.srcAction) {\n          dataObj[iframeSt.srcAction] = embedSrc;\n        }\n\n        mfp._parseMarkup(template, dataObj, item);\n\n        mfp.updateStatus('ready');\n        return template;\n      }\n    }\n  });\n  /*>>iframe*/\n\n  /*>>gallery*/\n\n  /**\r\n   * Get looped index depending on number of slides\r\n   */\n\n  var _getLoopedId = function (index) {\n    var numSlides = mfp.items.length;\n\n    if (index > numSlides - 1) {\n      return index - numSlides;\n    } else if (index < 0) {\n      return numSlides + index;\n    }\n\n    return index;\n  },\n      _replaceCurrTotal = function (text, curr, total) {\n    return text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n  };\n\n  $.magnificPopup.registerModule('gallery', {\n    options: {\n      enabled: false,\n      arrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n      preload: [0, 2],\n      navigateByImgClick: true,\n      arrows: true,\n      tPrev: 'Previous (Left arrow key)',\n      tNext: 'Next (Right arrow key)',\n      tCounter: '%curr% of %total%'\n    },\n    proto: {\n      initGallery: function () {\n        var gSt = mfp.st.gallery,\n            ns = '.mfp-gallery';\n        mfp.direction = true; // true - next, false - prev\n\n        if (!gSt || !gSt.enabled) return false;\n        _wrapClasses += ' mfp-gallery';\n\n        _mfpOn(OPEN_EVENT + ns, function () {\n          if (gSt.navigateByImgClick) {\n            mfp.wrap.on('click' + ns, '.mfp-img', function () {\n              if (mfp.items.length > 1) {\n                mfp.next();\n                return false;\n              }\n            });\n          }\n\n          _document.on('keydown' + ns, function (e) {\n            if (e.keyCode === 37) {\n              mfp.prev();\n            } else if (e.keyCode === 39) {\n              mfp.next();\n            }\n          });\n        });\n\n        _mfpOn('UpdateStatus' + ns, function (e, data) {\n          if (data.text) {\n            data.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n          }\n        });\n\n        _mfpOn(MARKUP_PARSE_EVENT + ns, function (e, element, values, item) {\n          var l = mfp.items.length;\n          values.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n        });\n\n        _mfpOn('BuildControls' + ns, function () {\n          if (mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n            var markup = gSt.arrowMarkup,\n                arrowLeft = mfp.arrowLeft = $(markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left')).addClass(PREVENT_CLOSE_CLASS),\n                arrowRight = mfp.arrowRight = $(markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right')).addClass(PREVENT_CLOSE_CLASS);\n            arrowLeft.click(function () {\n              mfp.prev();\n            });\n            arrowRight.click(function () {\n              mfp.next();\n            });\n            mfp.container.append(arrowLeft.add(arrowRight));\n          }\n        });\n\n        _mfpOn(CHANGE_EVENT + ns, function () {\n          if (mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n          mfp._preloadTimeout = setTimeout(function () {\n            mfp.preloadNearbyImages();\n            mfp._preloadTimeout = null;\n          }, 16);\n        });\n\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          _document.off(ns);\n\n          mfp.wrap.off('click' + ns);\n          mfp.arrowRight = mfp.arrowLeft = null;\n        });\n      },\n      next: function () {\n        mfp.direction = true;\n        mfp.index = _getLoopedId(mfp.index + 1);\n        mfp.updateItemHTML();\n      },\n      prev: function () {\n        mfp.direction = false;\n        mfp.index = _getLoopedId(mfp.index - 1);\n        mfp.updateItemHTML();\n      },\n      goTo: function (newIndex) {\n        mfp.direction = newIndex >= mfp.index;\n        mfp.index = newIndex;\n        mfp.updateItemHTML();\n      },\n      preloadNearbyImages: function () {\n        var p = mfp.st.gallery.preload,\n            preloadBefore = Math.min(p[0], mfp.items.length),\n            preloadAfter = Math.min(p[1], mfp.items.length),\n            i;\n\n        for (i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n          mfp._preloadItem(mfp.index + i);\n        }\n\n        for (i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n          mfp._preloadItem(mfp.index - i);\n        }\n      },\n      _preloadItem: function (index) {\n        index = _getLoopedId(index);\n\n        if (mfp.items[index].preloaded) {\n          return;\n        }\n\n        var item = mfp.items[index];\n\n        if (!item.parsed) {\n          item = mfp.parseEl(index);\n        }\n\n        _mfpTrigger('LazyLoad', item);\n\n        if (item.type === 'image') {\n          item.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function () {\n            item.hasSize = true;\n          }).on('error.mfploader', function () {\n            item.hasSize = true;\n            item.loadError = true;\n\n            _mfpTrigger('LazyLoadError', item);\n          }).attr('src', item.src);\n        }\n\n        item.preloaded = true;\n      }\n    }\n  });\n  /*>>gallery*/\n\n  /*>>retina*/\n\n  var RETINA_NS = 'retina';\n  $.magnificPopup.registerModule(RETINA_NS, {\n    options: {\n      replaceSrc: function (item) {\n        return item.src.replace(/\\.\\w+$/, function (m) {\n          return '@2x' + m;\n        });\n      },\n      ratio: 1 // Function or number.  Set to 1 to disable.\n\n    },\n    proto: {\n      initRetina: function () {\n        if (window.devicePixelRatio > 1) {\n          var st = mfp.st.retina,\n              ratio = st.ratio;\n          ratio = !isNaN(ratio) ? ratio : ratio();\n\n          if (ratio > 1) {\n            _mfpOn('ImageHasSize' + '.' + RETINA_NS, function (e, item) {\n              item.img.css({\n                'max-width': item.img[0].naturalWidth / ratio,\n                'width': '100%'\n              });\n            });\n\n            _mfpOn('ElementParse' + '.' + RETINA_NS, function (e, item) {\n              item.src = st.replaceSrc(item, ratio);\n            });\n          }\n        }\n      }\n    }\n  });\n  /*>>retina*/\n\n  _checkInstance();\n});","map":{"version":3,"sources":["C:/Users/LENOVO/Website/open-website/node_modules/magnific-popup/dist/jquery.magnific-popup.js"],"names":["factory","define","amd","exports","require","window","jQuery","Zepto","$","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","mfp","MagnificPopup","_isJQ","_prevStatus","_window","_document","_prevContentType","_wrapClasses","_currPopupType","_mfpOn","name","f","ev","on","_getEl","className","appendTo","html","raw","el","document","createElement","innerHTML","appendChild","_mfpTrigger","e","data","triggerHandler","st","callbacks","charAt","toLowerCase","slice","apply","isArray","_getCloseBtn","type","currTemplate","closeBtn","closeMarkup","replace","tClose","_checkInstance","magnificPopup","instance","init","supportsTransitions","s","style","v","undefined","length","pop","prototype","constructor","appVersion","navigator","isLowIE","isIE8","all","addEventListener","isAndroid","test","isIOS","supportsTransition","probablyMobile","userAgent","popupsCache","open","i","isObj","items","toArray","index","item","parsed","isOpen","updateItemHTML","types","mainEl","eq","key","extend","defaults","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","wrap","attr","_checkIfClose","target","container","contentContainer","preloader","tLoading","modules","n","toUpperCase","call","closeBtnInside","append","template","values","close_replaceWith","alignTop","css","overflow","overflowY","overflowX","top","scrollTop","position","fixedBgPos","height","keyCode","updateSize","addClass","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","marginRight","isIE7","classesToadd","mainClass","_addClassToMFP","add","prependTo","body","_lastFocusedEl","activeElement","setTimeout","content","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","detach","empty","_removeClassFromMFP","off","removeAttr","currItem","autoFocusLast","focus","prevHeight","winHeight","zoomLevel","documentElement","clientWidth","innerWidth","innerHeight","parseEl","markup","removeClass","newContent","appendContent","preloaded","prepend","find","tagName","src","hasClass","addGroup","options","eHandler","mfpEl","_openClick","eName","delegate","midClick","which","ctrlKey","metaKey","altKey","shiftKey","disableOn","isFunction","width","preventDefault","stopPropagation","updateStatus","status","text","stopImmediatePropagation","closeOnContent","closeOnBg","contains","cName","scrollHeight","_parseMarkup","arr","each","value","split","replaceWith","is","scrollbarSize","scrollDiv","cssText","offsetWidth","removeChild","proto","registerModule","module","push","fn","jqEl","itemOpts","parseInt","arguments","Array","INLINE_NS","_hiddenClass","_inlinePlaceholder","_lastInlineElement","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","parent","parentNode","inlineElement","AJAX_NS","_ajaxCur","_removeAjaxCursor","_destroyAjaxRequest","req","abort","settings","cursor","tError","initAjax","ajax","getAjax","opts","url","success","textStatus","jqXHR","temp","xhr","finished","error","loadError","_imgInterval","_getTitle","title","image","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","img","decr","_onImageHasSize","hasSize","clearInterval","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","delay","setInterval","naturalWidth","getImage","guard","onLoadComplete","complete","loaded","onLoadError","alt","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","enabled","easing","duration","opener","element","initZoom","zoomSt","zoom","getElToAnimate","newImg","transition","cssObj","zIndex","left","t","showMainContent","openTimeout","animatedImg","_allowZoom","clearTimeout","_getItemToZoom","_getOffset","remove","isLarge","offset","paddingTop","paddingBottom","obj","offsetHeight","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","id","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","indexOf","substr","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","direction","next","prev","l","arrowLeft","arrowRight","click","_preloadTimeout","preloadNearbyImages","goTo","newIndex","p","preloadBefore","Math","min","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","m","ratio","initRetina","devicePixelRatio","retina","isNaN"],"mappings":"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","sourcesContent":["/*! Magnific Popup - v1.1.0 - 2016-02-20\r\n* http://dimsemenov.com/plugins/magnific-popup/\r\n* Copyright (c) 2016 Dmitry Semenov; */\r\n;(function (factory) { \r\nif (typeof define === 'function' && define.amd) { \r\n // AMD. Register as an anonymous module. \r\n define(['jquery'], factory); \r\n } else if (typeof exports === 'object') { \r\n // Node/CommonJS \r\n factory(require('jquery')); \r\n } else { \r\n // Browser globals \r\n factory(window.jQuery || window.Zepto); \r\n } \r\n }(function($) { \r\n\r\n/*>>core*/\r\n/**\r\n * \r\n * Magnific Popup Core JS file\r\n * \r\n */\r\n\r\n\r\n/**\r\n * Private static constants\r\n */\r\nvar CLOSE_EVENT = 'Close',\r\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\r\n\tAFTER_CLOSE_EVENT = 'AfterClose',\r\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\r\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\r\n\tOPEN_EVENT = 'Open',\r\n\tCHANGE_EVENT = 'Change',\r\n\tNS = 'mfp',\r\n\tEVENT_NS = '.' + NS,\r\n\tREADY_CLASS = 'mfp-ready',\r\n\tREMOVING_CLASS = 'mfp-removing',\r\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\r\n\r\n\r\n/**\r\n * Private vars \r\n */\r\n/*jshint -W079 */\r\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\r\n\tMagnificPopup = function(){},\r\n\t_isJQ = !!(window.jQuery),\r\n\t_prevStatus,\r\n\t_window = $(window),\r\n\t_document,\r\n\t_prevContentType,\r\n\t_wrapClasses,\r\n\t_currPopupType;\r\n\r\n\r\n/**\r\n * Private functions\r\n */\r\nvar _mfpOn = function(name, f) {\r\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\r\n\t},\r\n\t_getEl = function(className, appendTo, html, raw) {\r\n\t\tvar el = document.createElement('div');\r\n\t\tel.className = 'mfp-'+className;\r\n\t\tif(html) {\r\n\t\t\tel.innerHTML = html;\r\n\t\t}\r\n\t\tif(!raw) {\r\n\t\t\tel = $(el);\r\n\t\t\tif(appendTo) {\r\n\t\t\t\tel.appendTo(appendTo);\r\n\t\t\t}\r\n\t\t} else if(appendTo) {\r\n\t\t\tappendTo.appendChild(el);\r\n\t\t}\r\n\t\treturn el;\r\n\t},\r\n\t_mfpTrigger = function(e, data) {\r\n\t\tmfp.ev.triggerHandler(NS + e, data);\r\n\r\n\t\tif(mfp.st.callbacks) {\r\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\r\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\r\n\t\t\tif(mfp.st.callbacks[e]) {\r\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_getCloseBtn = function(type) {\r\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\r\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\r\n\t\t\t_currPopupType = type;\r\n\t\t}\r\n\t\treturn mfp.currTemplate.closeBtn;\r\n\t},\r\n\t// Initialize Magnific Popup only when called at least once\r\n\t_checkInstance = function() {\r\n\t\tif(!$.magnificPopup.instance) {\r\n\t\t\t/*jshint -W020 */\r\n\t\t\tmfp = new MagnificPopup();\r\n\t\t\tmfp.init();\r\n\t\t\t$.magnificPopup.instance = mfp;\r\n\t\t}\r\n\t},\r\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\r\n\tsupportsTransitions = function() {\r\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\r\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\r\n\r\n\t\tif( s['transition'] !== undefined ) {\r\n\t\t\treturn true; \r\n\t\t}\r\n\t\t\t\r\n\t\twhile( v.length ) {\r\n\t\t\tif( v.pop() + 'Transition' in s ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\t\r\n\t\treturn false;\r\n\t};\r\n\r\n\r\n\r\n/**\r\n * Public functions\r\n */\r\nMagnificPopup.prototype = {\r\n\r\n\tconstructor: MagnificPopup,\r\n\r\n\t/**\r\n\t * Initializes Magnific Popup plugin. \r\n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\r\n\t */\r\n\tinit: function() {\r\n\t\tvar appVersion = navigator.appVersion;\r\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\r\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\r\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\r\n\t\tmfp.supportsTransition = supportsTransitions();\r\n\r\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\r\n\t\t// If you know a better way of detecting this - let me know.\r\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\r\n\t\t_document = $(document);\r\n\r\n\t\tmfp.popupsCache = {};\r\n\t},\r\n\r\n\t/**\r\n\t * Opens popup\r\n\t * @param  data [description]\r\n\t */\r\n\topen: function(data) {\r\n\r\n\t\tvar i;\r\n\r\n\t\tif(data.isObj === false) { \r\n\t\t\t// convert jQuery collection to array to avoid conflicts later\r\n\t\t\tmfp.items = data.items.toArray();\r\n\r\n\t\t\tmfp.index = 0;\r\n\t\t\tvar items = data.items,\r\n\t\t\t\titem;\r\n\t\t\tfor(i = 0; i < items.length; i++) {\r\n\t\t\t\titem = items[i];\r\n\t\t\t\tif(item.parsed) {\r\n\t\t\t\t\titem = item.el[0];\r\n\t\t\t\t}\r\n\t\t\t\tif(item === data.el[0]) {\r\n\t\t\t\t\tmfp.index = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\r\n\t\t\tmfp.index = data.index || 0;\r\n\t\t}\r\n\r\n\t\t// if popup is already opened - we just update the content\r\n\t\tif(mfp.isOpen) {\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tmfp.types = []; \r\n\t\t_wrapClasses = '';\r\n\t\tif(data.mainEl && data.mainEl.length) {\r\n\t\t\tmfp.ev = data.mainEl.eq(0);\r\n\t\t} else {\r\n\t\t\tmfp.ev = _document;\r\n\t\t}\r\n\r\n\t\tif(data.key) {\r\n\t\t\tif(!mfp.popupsCache[data.key]) {\r\n\t\t\t\tmfp.popupsCache[data.key] = {};\r\n\t\t\t}\r\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\r\n\t\t} else {\r\n\t\t\tmfp.currTemplate = {};\r\n\t\t}\r\n\r\n\r\n\r\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \r\n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\r\n\r\n\t\tif(mfp.st.modal) {\r\n\t\t\tmfp.st.closeOnContentClick = false;\r\n\t\t\tmfp.st.closeOnBgClick = false;\r\n\t\t\tmfp.st.showCloseBtn = false;\r\n\t\t\tmfp.st.enableEscapeKey = false;\r\n\t\t}\r\n\t\t\r\n\r\n\t\t// Building markup\r\n\t\t// main containers are created only once\r\n\t\tif(!mfp.bgOverlay) {\r\n\r\n\t\t\t// Dark overlay\r\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\r\n\t\t\t\tmfp.close();\r\n\t\t\t});\r\n\r\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\r\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\r\n\t\t\t\t\tmfp.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\r\n\t\t}\r\n\r\n\t\tmfp.contentContainer = _getEl('content');\r\n\t\tif(mfp.st.preloader) {\r\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\r\n\t\t}\r\n\r\n\r\n\t\t// Initializing modules\r\n\t\tvar modules = $.magnificPopup.modules;\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar n = modules[i];\r\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\r\n\t\t\tmfp['init'+n].call(mfp);\r\n\t\t}\r\n\t\t_mfpTrigger('BeforeOpen');\r\n\r\n\r\n\t\tif(mfp.st.showCloseBtn) {\r\n\t\t\t// Close button\r\n\t\t\tif(!mfp.st.closeBtnInside) {\r\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\r\n\t\t\t} else {\r\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\r\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\r\n\t\t\t\t});\r\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(mfp.st.alignTop) {\r\n\t\t\t_wrapClasses += ' mfp-align-top';\r\n\t\t}\r\n\r\n\t\r\n\r\n\t\tif(mfp.fixedContentPos) {\r\n\t\t\tmfp.wrap.css({\r\n\t\t\t\toverflow: mfp.st.overflowY,\r\n\t\t\t\toverflowX: 'hidden',\r\n\t\t\t\toverflowY: mfp.st.overflowY\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmfp.wrap.css({ \r\n\t\t\t\ttop: _window.scrollTop(),\r\n\t\t\t\tposition: 'absolute'\r\n\t\t\t});\r\n\t\t}\r\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\r\n\t\t\tmfp.bgOverlay.css({\r\n\t\t\t\theight: _document.height(),\r\n\t\t\t\tposition: 'absolute'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tif(mfp.st.enableEscapeKey) {\r\n\t\t\t// Close on ESC key\r\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\r\n\t\t\t\tif(e.keyCode === 27) {\r\n\t\t\t\t\tmfp.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t_window.on('resize' + EVENT_NS, function() {\r\n\t\t\tmfp.updateSize();\r\n\t\t});\r\n\r\n\r\n\t\tif(!mfp.st.closeOnContentClick) {\r\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\r\n\t\t}\r\n\t\t\r\n\t\tif(_wrapClasses)\r\n\t\t\tmfp.wrap.addClass(_wrapClasses);\r\n\r\n\r\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\r\n\t\tvar windowHeight = mfp.wH = _window.height();\r\n\r\n\t\t\r\n\t\tvar windowStyles = {};\r\n\r\n\t\tif( mfp.fixedContentPos ) {\r\n            if(mfp._hasScrollBar(windowHeight)){\r\n                var s = mfp._getScrollbarSize();\r\n                if(s) {\r\n                    windowStyles.marginRight = s;\r\n                }\r\n            }\r\n        }\r\n\r\n\t\tif(mfp.fixedContentPos) {\r\n\t\t\tif(!mfp.isIE7) {\r\n\t\t\t\twindowStyles.overflow = 'hidden';\r\n\t\t\t} else {\r\n\t\t\t\t// ie7 double-scroll bug\r\n\t\t\t\t$('body, html').css('overflow', 'hidden');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\tvar classesToadd = mfp.st.mainClass;\r\n\t\tif(mfp.isIE7) {\r\n\t\t\tclassesToadd += ' mfp-ie7';\r\n\t\t}\r\n\t\tif(classesToadd) {\r\n\t\t\tmfp._addClassToMFP( classesToadd );\r\n\t\t}\r\n\r\n\t\t// add content\r\n\t\tmfp.updateItemHTML();\r\n\r\n\t\t_mfpTrigger('BuildControls');\r\n\r\n\t\t// remove scrollbar, add margin e.t.c\r\n\t\t$('html').css(windowStyles);\r\n\t\t\r\n\t\t// add everything to DOM\r\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\r\n\r\n\t\t// Save last focused element\r\n\t\tmfp._lastFocusedEl = document.activeElement;\r\n\t\t\r\n\t\t// Wait for next cycle to allow CSS transition\r\n\t\tsetTimeout(function() {\r\n\t\t\t\r\n\t\t\tif(mfp.content) {\r\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\r\n\t\t\t\tmfp._setFocus();\r\n\t\t\t} else {\r\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\r\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Trap the focus in popup\r\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\r\n\r\n\t\t}, 16);\r\n\r\n\t\tmfp.isOpen = true;\r\n\t\tmfp.updateSize(windowHeight);\r\n\t\t_mfpTrigger(OPEN_EVENT);\r\n\r\n\t\treturn data;\r\n\t},\r\n\r\n\t/**\r\n\t * Closes the popup\r\n\t */\r\n\tclose: function() {\r\n\t\tif(!mfp.isOpen) return;\r\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\r\n\r\n\t\tmfp.isOpen = false;\r\n\t\t// for CSS3 animation\r\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\r\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tmfp._close();\r\n\t\t\t}, mfp.st.removalDelay);\r\n\t\t} else {\r\n\t\t\tmfp._close();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Helper for close() function\r\n\t */\r\n\t_close: function() {\r\n\t\t_mfpTrigger(CLOSE_EVENT);\r\n\r\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\r\n\r\n\t\tmfp.bgOverlay.detach();\r\n\t\tmfp.wrap.detach();\r\n\t\tmfp.container.empty();\r\n\r\n\t\tif(mfp.st.mainClass) {\r\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\r\n\t\t}\r\n\r\n\t\tmfp._removeClassFromMFP(classesToRemove);\r\n\r\n\t\tif(mfp.fixedContentPos) {\r\n\t\t\tvar windowStyles = {marginRight: ''};\r\n\t\t\tif(mfp.isIE7) {\r\n\t\t\t\t$('body, html').css('overflow', '');\r\n\t\t\t} else {\r\n\t\t\t\twindowStyles.overflow = '';\r\n\t\t\t}\r\n\t\t\t$('html').css(windowStyles);\r\n\t\t}\r\n\t\t\r\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\r\n\t\tmfp.ev.off(EVENT_NS);\r\n\r\n\t\t// clean up DOM elements that aren't removed\r\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\r\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\r\n\t\tmfp.container.attr('class', 'mfp-container');\r\n\r\n\t\t// remove close button from target element\r\n\t\tif(mfp.st.showCloseBtn &&\r\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\r\n\t\t\tif(mfp.currTemplate.closeBtn)\r\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\r\n\t\t}\r\n\r\n\r\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\r\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\r\n\t\t}\r\n\t\tmfp.currItem = null;\t\r\n\t\tmfp.content = null;\r\n\t\tmfp.currTemplate = null;\r\n\t\tmfp.prevHeight = 0;\r\n\r\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\r\n\t},\r\n\t\r\n\tupdateSize: function(winHeight) {\r\n\r\n\t\tif(mfp.isIOS) {\r\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\r\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\r\n\t\t\tvar height = window.innerHeight * zoomLevel;\r\n\t\t\tmfp.wrap.css('height', height);\r\n\t\t\tmfp.wH = height;\r\n\t\t} else {\r\n\t\t\tmfp.wH = winHeight || _window.height();\r\n\t\t}\r\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\r\n\t\tif(!mfp.fixedContentPos) {\r\n\t\t\tmfp.wrap.css('height', mfp.wH);\r\n\t\t}\r\n\r\n\t\t_mfpTrigger('Resize');\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Set content of popup based on current index\r\n\t */\r\n\tupdateItemHTML: function() {\r\n\t\tvar item = mfp.items[mfp.index];\r\n\r\n\t\t// Detach and perform modifications\r\n\t\tmfp.contentContainer.detach();\r\n\r\n\t\tif(mfp.content)\r\n\t\t\tmfp.content.detach();\r\n\r\n\t\tif(!item.parsed) {\r\n\t\t\titem = mfp.parseEl( mfp.index );\r\n\t\t}\r\n\r\n\t\tvar type = item.type;\r\n\r\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\r\n\t\t// BeforeChange event works like so:\r\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\r\n\r\n\t\tmfp.currItem = item;\r\n\r\n\t\tif(!mfp.currTemplate[type]) {\r\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\r\n\r\n\t\t\t// allows to modify markup\r\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\r\n\r\n\t\t\tif(markup) {\r\n\t\t\t\tmfp.currTemplate[type] = $(markup);\r\n\t\t\t} else {\r\n\t\t\t\t// if there is no markup found we just define that template is parsed\r\n\t\t\t\tmfp.currTemplate[type] = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(_prevContentType && _prevContentType !== item.type) {\r\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\r\n\t\t}\r\n\r\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\r\n\t\tmfp.appendContent(newContent, type);\r\n\r\n\t\titem.preloaded = true;\r\n\r\n\t\t_mfpTrigger(CHANGE_EVENT, item);\r\n\t\t_prevContentType = item.type;\r\n\r\n\t\t// Append container back after its content changed\r\n\t\tmfp.container.prepend(mfp.contentContainer);\r\n\r\n\t\t_mfpTrigger('AfterChange');\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Set HTML content of popup\r\n\t */\r\n\tappendContent: function(newContent, type) {\r\n\t\tmfp.content = newContent;\r\n\r\n\t\tif(newContent) {\r\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\r\n\t\t\t\tmfp.currTemplate[type] === true) {\r\n\t\t\t\t// if there is no markup, we just append close button element inside\r\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\r\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmfp.content = newContent;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmfp.content = '';\r\n\t\t}\r\n\r\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\r\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\r\n\r\n\t\tmfp.contentContainer.append(mfp.content);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Creates Magnific Popup data object based on given data\r\n\t * @param  {int} index Index of item to parse\r\n\t */\r\n\tparseEl: function(index) {\r\n\t\tvar item = mfp.items[index],\r\n\t\t\ttype;\r\n\r\n\t\tif(item.tagName) {\r\n\t\t\titem = { el: $(item) };\r\n\t\t} else {\r\n\t\t\ttype = item.type;\r\n\t\t\titem = { data: item, src: item.src };\r\n\t\t}\r\n\r\n\t\tif(item.el) {\r\n\t\t\tvar types = mfp.types;\r\n\r\n\t\t\t// check for 'mfp-TYPE' class\r\n\t\t\tfor(var i = 0; i < types.length; i++) {\r\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\r\n\t\t\t\t\ttype = types[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\titem.src = item.el.attr('data-mfp-src');\r\n\t\t\tif(!item.src) {\r\n\t\t\t\titem.src = item.el.attr('href');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\titem.type = type || mfp.st.type || 'inline';\r\n\t\titem.index = index;\r\n\t\titem.parsed = true;\r\n\t\tmfp.items[index] = item;\r\n\t\t_mfpTrigger('ElementParse', item);\r\n\r\n\t\treturn mfp.items[index];\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Initializes single popup or a group of popups\r\n\t */\r\n\taddGroup: function(el, options) {\r\n\t\tvar eHandler = function(e) {\r\n\t\t\te.mfpEl = this;\r\n\t\t\tmfp._openClick(e, el, options);\r\n\t\t};\r\n\r\n\t\tif(!options) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\tvar eName = 'click.magnificPopup';\r\n\t\toptions.mainEl = el;\r\n\r\n\t\tif(options.items) {\r\n\t\t\toptions.isObj = true;\r\n\t\t\tel.off(eName).on(eName, eHandler);\r\n\t\t} else {\r\n\t\t\toptions.isObj = false;\r\n\t\t\tif(options.delegate) {\r\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\r\n\t\t\t} else {\r\n\t\t\t\toptions.items = el;\r\n\t\t\t\tel.off(eName).on(eName, eHandler);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_openClick: function(e, el, options) {\r\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\r\n\r\n\r\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\r\n\r\n\t\tif(disableOn) {\r\n\t\t\tif($.isFunction(disableOn)) {\r\n\t\t\t\tif( !disableOn.call(mfp) ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} else { // else it's number\r\n\t\t\t\tif( _window.width() < disableOn ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(e.type) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\r\n\t\t\tif(mfp.isOpen) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toptions.el = $(e.mfpEl);\r\n\t\tif(options.delegate) {\r\n\t\t\toptions.items = el.find(options.delegate);\r\n\t\t}\r\n\t\tmfp.open(options);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Updates text on preloader\r\n\t */\r\n\tupdateStatus: function(status, text) {\r\n\r\n\t\tif(mfp.preloader) {\r\n\t\t\tif(_prevStatus !== status) {\r\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\r\n\t\t\t}\r\n\r\n\t\t\tif(!text && status === 'loading') {\r\n\t\t\t\ttext = mfp.st.tLoading;\r\n\t\t\t}\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tstatus: status,\r\n\t\t\t\ttext: text\r\n\t\t\t};\r\n\t\t\t// allows to modify status\r\n\t\t\t_mfpTrigger('UpdateStatus', data);\r\n\r\n\t\t\tstatus = data.status;\r\n\t\t\ttext = data.text;\r\n\r\n\t\t\tmfp.preloader.html(text);\r\n\r\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t});\r\n\r\n\t\t\tmfp.container.addClass('mfp-s-'+status);\r\n\t\t\t_prevStatus = status;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\t\"Private\" helpers that aren't private at all\r\n\t */\r\n\t// Check to close popup or not\r\n\t// \"target\" is an element that was clicked\r\n\t_checkIfClose: function(target) {\r\n\r\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\r\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\r\n\r\n\t\tif(closeOnContent && closeOnBg) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\r\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\r\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// if click is outside the content\r\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\r\n\t\t\t\tif(closeOnBg) {\r\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\r\n\t\t\t\t\tif( $.contains(document, target) ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if(closeOnContent) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_addClassToMFP: function(cName) {\r\n\t\tmfp.bgOverlay.addClass(cName);\r\n\t\tmfp.wrap.addClass(cName);\r\n\t},\r\n\t_removeClassFromMFP: function(cName) {\r\n\t\tthis.bgOverlay.removeClass(cName);\r\n\t\tmfp.wrap.removeClass(cName);\r\n\t},\r\n\t_hasScrollBar: function(winHeight) {\r\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\r\n\t},\r\n\t_setFocus: function() {\r\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\r\n\t},\r\n\t_onFocusIn: function(e) {\r\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\r\n\t\t\tmfp._setFocus();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\t_parseMarkup: function(template, values, item) {\r\n\t\tvar arr;\r\n\t\tif(item.data) {\r\n\t\t\tvalues = $.extend(item.data, values);\r\n\t\t}\r\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\r\n\r\n\t\t$.each(values, function(key, value) {\r\n\t\t\tif(value === undefined || value === false) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tarr = key.split('_');\r\n\t\t\tif(arr.length > 1) {\r\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\r\n\r\n\t\t\t\tif(el.length > 0) {\r\n\t\t\t\t\tvar attr = arr[1];\r\n\t\t\t\t\tif(attr === 'replaceWith') {\r\n\t\t\t\t\t\tif(el[0] !== value[0]) {\r\n\t\t\t\t\t\t\tel.replaceWith(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if(attr === 'img') {\r\n\t\t\t\t\t\tif(el.is('img')) {\r\n\t\t\t\t\t\t\tel.attr('src', value);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.attr(arr[1], value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t_getScrollbarSize: function() {\r\n\t\t// thx David\r\n\t\tif(mfp.scrollbarSize === undefined) {\r\n\t\t\tvar scrollDiv = document.createElement(\"div\");\r\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\r\n\t\t\tdocument.body.appendChild(scrollDiv);\r\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n\t\t\tdocument.body.removeChild(scrollDiv);\r\n\t\t}\r\n\t\treturn mfp.scrollbarSize;\r\n\t}\r\n\r\n}; /* MagnificPopup core prototype end */\r\n\r\n\r\n\r\n\r\n/**\r\n * Public static functions\r\n */\r\n$.magnificPopup = {\r\n\tinstance: null,\r\n\tproto: MagnificPopup.prototype,\r\n\tmodules: [],\r\n\r\n\topen: function(options, index) {\r\n\t\t_checkInstance();\r\n\r\n\t\tif(!options) {\r\n\t\t\toptions = {};\r\n\t\t} else {\r\n\t\t\toptions = $.extend(true, {}, options);\r\n\t\t}\r\n\r\n\t\toptions.isObj = true;\r\n\t\toptions.index = index || 0;\r\n\t\treturn this.instance.open(options);\r\n\t},\r\n\r\n\tclose: function() {\r\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\r\n\t},\r\n\r\n\tregisterModule: function(name, module) {\r\n\t\tif(module.options) {\r\n\t\t\t$.magnificPopup.defaults[name] = module.options;\r\n\t\t}\r\n\t\t$.extend(this.proto, module.proto);\r\n\t\tthis.modules.push(name);\r\n\t},\r\n\r\n\tdefaults: {\r\n\r\n\t\t// Info about options is in docs:\r\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\r\n\r\n\t\tdisableOn: 0,\r\n\r\n\t\tkey: null,\r\n\r\n\t\tmidClick: false,\r\n\r\n\t\tmainClass: '',\r\n\r\n\t\tpreloader: true,\r\n\r\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\r\n\r\n\t\tcloseOnContentClick: false,\r\n\r\n\t\tcloseOnBgClick: true,\r\n\r\n\t\tcloseBtnInside: true,\r\n\r\n\t\tshowCloseBtn: true,\r\n\r\n\t\tenableEscapeKey: true,\r\n\r\n\t\tmodal: false,\r\n\r\n\t\talignTop: false,\r\n\r\n\t\tremovalDelay: 0,\r\n\r\n\t\tprependTo: null,\r\n\r\n\t\tfixedContentPos: 'auto',\r\n\r\n\t\tfixedBgPos: 'auto',\r\n\r\n\t\toverflowY: 'auto',\r\n\r\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\r\n\r\n\t\ttClose: 'Close (Esc)',\r\n\r\n\t\ttLoading: 'Loading...',\r\n\r\n\t\tautoFocusLast: true\r\n\r\n\t}\r\n};\r\n\r\n\r\n\r\n$.fn.magnificPopup = function(options) {\r\n\t_checkInstance();\r\n\r\n\tvar jqEl = $(this);\r\n\r\n\t// We call some API method of first param is a string\r\n\tif (typeof options === \"string\" ) {\r\n\r\n\t\tif(options === 'open') {\r\n\t\t\tvar items,\r\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\r\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\r\n\r\n\t\t\tif(itemOpts.items) {\r\n\t\t\t\titems = itemOpts.items[index];\r\n\t\t\t} else {\r\n\t\t\t\titems = jqEl;\r\n\t\t\t\tif(itemOpts.delegate) {\r\n\t\t\t\t\titems = items.find(itemOpts.delegate);\r\n\t\t\t\t}\r\n\t\t\t\titems = items.eq( index );\r\n\t\t\t}\r\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\r\n\t\t} else {\r\n\t\t\tif(mfp.isOpen)\r\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\r\n\t\t}\r\n\r\n\t} else {\r\n\t\t// clone options obj\r\n\t\toptions = $.extend(true, {}, options);\r\n\r\n\t\t/*\r\n\t\t * As Zepto doesn't support .data() method for objects\r\n\t\t * and it works only in normal browsers\r\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\r\n\t\t */\r\n\t\tif(_isJQ) {\r\n\t\t\tjqEl.data('magnificPopup', options);\r\n\t\t} else {\r\n\t\t\tjqEl[0].magnificPopup = options;\r\n\t\t}\r\n\r\n\t\tmfp.addGroup(jqEl, options);\r\n\r\n\t}\r\n\treturn jqEl;\r\n};\r\n\r\n/*>>core*/\r\n\r\n/*>>inline*/\r\n\r\nvar INLINE_NS = 'inline',\r\n\t_hiddenClass,\r\n\t_inlinePlaceholder,\r\n\t_lastInlineElement,\r\n\t_putInlineElementsBack = function() {\r\n\t\tif(_lastInlineElement) {\r\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\r\n\t\t\t_lastInlineElement = null;\r\n\t\t}\r\n\t};\r\n\r\n$.magnificPopup.registerModule(INLINE_NS, {\r\n\toptions: {\r\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\r\n\t\tmarkup: '',\r\n\t\ttNotFound: 'Content not found'\r\n\t},\r\n\tproto: {\r\n\r\n\t\tinitInline: function() {\r\n\t\t\tmfp.types.push(INLINE_NS);\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\r\n\t\t\t\t_putInlineElementsBack();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetInline: function(item, template) {\r\n\r\n\t\t\t_putInlineElementsBack();\r\n\r\n\t\t\tif(item.src) {\r\n\t\t\t\tvar inlineSt = mfp.st.inline,\r\n\t\t\t\t\tel = $(item.src);\r\n\r\n\t\t\t\tif(el.length) {\r\n\r\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\r\n\t\t\t\t\tvar parent = el[0].parentNode;\r\n\t\t\t\t\tif(parent && parent.tagName) {\r\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\r\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\r\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\r\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// replace target inline element with placeholder\r\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmfp.updateStatus('ready');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\r\n\t\t\t\t\tel = $('<div>');\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.inlineElement = el;\r\n\t\t\t\treturn el;\r\n\t\t\t}\r\n\r\n\t\t\tmfp.updateStatus('ready');\r\n\t\t\tmfp._parseMarkup(template, {}, item);\r\n\t\t\treturn template;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/*>>inline*/\r\n\r\n/*>>ajax*/\r\nvar AJAX_NS = 'ajax',\r\n\t_ajaxCur,\r\n\t_removeAjaxCursor = function() {\r\n\t\tif(_ajaxCur) {\r\n\t\t\t$(document.body).removeClass(_ajaxCur);\r\n\t\t}\r\n\t},\r\n\t_destroyAjaxRequest = function() {\r\n\t\t_removeAjaxCursor();\r\n\t\tif(mfp.req) {\r\n\t\t\tmfp.req.abort();\r\n\t\t}\r\n\t};\r\n\r\n$.magnificPopup.registerModule(AJAX_NS, {\r\n\r\n\toptions: {\r\n\t\tsettings: null,\r\n\t\tcursor: 'mfp-ajax-cur',\r\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitAjax: function() {\r\n\t\t\tmfp.types.push(AJAX_NS);\r\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\r\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\r\n\t\t},\r\n\t\tgetAjax: function(item) {\r\n\r\n\t\t\tif(_ajaxCur) {\r\n\t\t\t\t$(document.body).addClass(_ajaxCur);\r\n\t\t\t}\r\n\r\n\t\t\tmfp.updateStatus('loading');\r\n\r\n\t\t\tvar opts = $.extend({\r\n\t\t\t\turl: item.src,\r\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\r\n\t\t\t\t\tvar temp = {\r\n\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\txhr:jqXHR\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\r\n\r\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\r\n\r\n\t\t\t\t\titem.finished = true;\r\n\r\n\t\t\t\t\t_removeAjaxCursor();\r\n\r\n\t\t\t\t\tmfp._setFocus();\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\r\n\t\t\t\t\t}, 16);\r\n\r\n\t\t\t\t\tmfp.updateStatus('ready');\r\n\r\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\r\n\t\t\t\t},\r\n\t\t\t\terror: function() {\r\n\t\t\t\t\t_removeAjaxCursor();\r\n\t\t\t\t\titem.finished = item.loadError = true;\r\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\r\n\t\t\t\t}\r\n\t\t\t}, mfp.st.ajax.settings);\r\n\r\n\t\t\tmfp.req = $.ajax(opts);\r\n\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/*>>ajax*/\r\n\r\n/*>>image*/\r\nvar _imgInterval,\r\n\t_getTitle = function(item) {\r\n\t\tif(item.data && item.data.title !== undefined)\r\n\t\t\treturn item.data.title;\r\n\r\n\t\tvar src = mfp.st.image.titleSrc;\r\n\r\n\t\tif(src) {\r\n\t\t\tif($.isFunction(src)) {\r\n\t\t\t\treturn src.call(mfp, item);\r\n\t\t\t} else if(item.el) {\r\n\t\t\t\treturn item.el.attr(src) || '';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '';\r\n\t};\r\n\r\n$.magnificPopup.registerModule('image', {\r\n\r\n\toptions: {\r\n\t\tmarkup: '<div class=\"mfp-figure\">'+\r\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\r\n\t\t\t\t\t'<figure>'+\r\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\r\n\t\t\t\t\t\t'<figcaption>'+\r\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\r\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\r\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t'</figcaption>'+\r\n\t\t\t\t\t'</figure>'+\r\n\t\t\t\t'</div>',\r\n\t\tcursor: 'mfp-zoom-out-cur',\r\n\t\ttitleSrc: 'title',\r\n\t\tverticalFit: true,\r\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitImage: function() {\r\n\t\t\tvar imgSt = mfp.st.image,\r\n\t\t\t\tns = '.image';\r\n\r\n\t\t\tmfp.types.push('image');\r\n\r\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\r\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\r\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\r\n\t\t\t\tif(imgSt.cursor) {\r\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\r\n\t\t\t\t}\r\n\t\t\t\t_window.off('resize' + EVENT_NS);\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\r\n\t\t\tif(mfp.isLowIE) {\r\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresizeImage: function() {\r\n\t\t\tvar item = mfp.currItem;\r\n\t\t\tif(!item || !item.img) return;\r\n\r\n\t\t\tif(mfp.st.image.verticalFit) {\r\n\t\t\t\tvar decr = 0;\r\n\t\t\t\t// fix box-sizing in ie7/8\r\n\t\t\t\tif(mfp.isLowIE) {\r\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\r\n\t\t\t\t}\r\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onImageHasSize: function(item) {\r\n\t\t\tif(item.img) {\r\n\r\n\t\t\t\titem.hasSize = true;\r\n\r\n\t\t\t\tif(_imgInterval) {\r\n\t\t\t\t\tclearInterval(_imgInterval);\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.isCheckingImgSize = false;\r\n\r\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\r\n\r\n\t\t\t\tif(item.imgHidden) {\r\n\t\t\t\t\tif(mfp.content)\r\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\r\n\r\n\t\t\t\t\titem.imgHidden = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Function that loops until the image has size to display elements that rely on it asap\r\n\t\t */\r\n\t\tfindImageSize: function(item) {\r\n\r\n\t\t\tvar counter = 0,\r\n\t\t\t\timg = item.img[0],\r\n\t\t\t\tmfpSetInterval = function(delay) {\r\n\r\n\t\t\t\t\tif(_imgInterval) {\r\n\t\t\t\t\t\tclearInterval(_imgInterval);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// decelerating interval that checks for size of an image\r\n\t\t\t\t\t_imgInterval = setInterval(function() {\r\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\r\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(counter > 200) {\r\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\tif(counter === 3) {\r\n\t\t\t\t\t\t\tmfpSetInterval(10);\r\n\t\t\t\t\t\t} else if(counter === 40) {\r\n\t\t\t\t\t\t\tmfpSetInterval(50);\r\n\t\t\t\t\t\t} else if(counter === 100) {\r\n\t\t\t\t\t\t\tmfpSetInterval(500);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, delay);\r\n\t\t\t\t};\r\n\r\n\t\t\tmfpSetInterval(1);\r\n\t\t},\r\n\r\n\t\tgetImage: function(item, template) {\r\n\r\n\t\t\tvar guard = 0,\r\n\r\n\t\t\t\t// image load complete handler\r\n\t\t\t\tonLoadComplete = function() {\r\n\t\t\t\t\tif(item) {\r\n\t\t\t\t\t\tif (item.img[0].complete) {\r\n\t\t\t\t\t\t\titem.img.off('.mfploader');\r\n\r\n\t\t\t\t\t\t\tif(item === mfp.currItem){\r\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\r\n\r\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t\t\t\titem.loaded = true;\r\n\r\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\r\n\t\t\t\t\t\t\tguard++;\r\n\t\t\t\t\t\t\tif(guard < 200) {\r\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tonLoadError();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// image error handler\r\n\t\t\t\tonLoadError = function() {\r\n\t\t\t\t\tif(item) {\r\n\t\t\t\t\t\titem.img.off('.mfploader');\r\n\t\t\t\t\t\tif(item === mfp.currItem){\r\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\r\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t\t\titem.loaded = true;\r\n\t\t\t\t\t\titem.loadError = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\timgSt = mfp.st.image;\r\n\r\n\r\n\t\t\tvar el = template.find('.mfp-img');\r\n\t\t\tif(el.length) {\r\n\t\t\t\tvar img = document.createElement('img');\r\n\t\t\t\timg.className = 'mfp-img';\r\n\t\t\t\tif(item.el && item.el.find('img').length) {\r\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\r\n\t\t\t\t}\r\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\r\n\t\t\t\timg.src = item.src;\r\n\r\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\r\n\t\t\t\t// TODO: find a way to avoid such cloning\r\n\t\t\t\tif(el.is('img')) {\r\n\t\t\t\t\titem.img = item.img.clone();\r\n\t\t\t\t}\r\n\r\n\t\t\t\timg = item.img[0];\r\n\t\t\t\tif(img.naturalWidth > 0) {\r\n\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t} else if(!img.width) {\r\n\t\t\t\t\titem.hasSize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmfp._parseMarkup(template, {\r\n\t\t\t\ttitle: _getTitle(item),\r\n\t\t\t\timg_replaceWith: item.img\r\n\t\t\t}, item);\r\n\r\n\t\t\tmfp.resizeImage();\r\n\r\n\t\t\tif(item.hasSize) {\r\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\r\n\r\n\t\t\t\tif(item.loadError) {\r\n\t\t\t\t\ttemplate.addClass('mfp-loading');\r\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\r\n\t\t\t\t\tmfp.updateStatus('ready');\r\n\t\t\t\t}\r\n\t\t\t\treturn template;\r\n\t\t\t}\r\n\r\n\t\t\tmfp.updateStatus('loading');\r\n\t\t\titem.loading = true;\r\n\r\n\t\t\tif(!item.hasSize) {\r\n\t\t\t\titem.imgHidden = true;\r\n\t\t\t\ttemplate.addClass('mfp-loading');\r\n\t\t\t\tmfp.findImageSize(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn template;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/*>>image*/\r\n\r\n/*>>zoom*/\r\nvar hasMozTransform,\r\n\tgetHasMozTransform = function() {\r\n\t\tif(hasMozTransform === undefined) {\r\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\r\n\t\t}\r\n\t\treturn hasMozTransform;\r\n\t};\r\n\r\n$.magnificPopup.registerModule('zoom', {\r\n\r\n\toptions: {\r\n\t\tenabled: false,\r\n\t\teasing: 'ease-in-out',\r\n\t\tduration: 300,\r\n\t\topener: function(element) {\r\n\t\t\treturn element.is('img') ? element : element.find('img');\r\n\t\t}\r\n\t},\r\n\r\n\tproto: {\r\n\r\n\t\tinitZoom: function() {\r\n\t\t\tvar zoomSt = mfp.st.zoom,\r\n\t\t\t\tns = '.zoom',\r\n\t\t\t\timage;\r\n\r\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar duration = zoomSt.duration,\r\n\t\t\t\tgetElToAnimate = function(image) {\r\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\r\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\r\n\t\t\t\t\t\tcssObj = {\r\n\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\tzIndex: 9999,\r\n\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tt = 'transition';\r\n\r\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\r\n\r\n\t\t\t\t\tnewImg.css(cssObj);\r\n\t\t\t\t\treturn newImg;\r\n\t\t\t\t},\r\n\t\t\t\tshowMainContent = function() {\r\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\r\n\t\t\t\t},\r\n\t\t\t\topenTimeout,\r\n\t\t\t\tanimatedImg;\r\n\r\n\t\t\t_mfpOn('BuildControls'+ns, function() {\r\n\t\t\t\tif(mfp._allowZoom()) {\r\n\r\n\t\t\t\t\tclearTimeout(openTimeout);\r\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\r\n\r\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\r\n\r\n\t\t\t\t\timage = mfp._getItemToZoom();\r\n\r\n\t\t\t\t\tif(!image) {\r\n\t\t\t\t\t\tshowMainContent();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\r\n\r\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\r\n\r\n\t\t\t\t\tmfp.wrap.append(animatedImg);\r\n\r\n\t\t\t\t\topenTimeout = setTimeout(function() {\r\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\r\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\r\n\r\n\t\t\t\t\t\t\tshowMainContent();\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tanimatedImg.remove();\r\n\t\t\t\t\t\t\t\timage = animatedImg = null;\r\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\r\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\r\n\r\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\r\n\r\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\r\n\r\n\r\n\t\t\t\t\t// Lots of timeouts...\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\r\n\t\t\t\tif(mfp._allowZoom()) {\r\n\r\n\t\t\t\t\tclearTimeout(openTimeout);\r\n\r\n\t\t\t\t\tmfp.st.removalDelay = duration;\r\n\r\n\t\t\t\t\tif(!image) {\r\n\t\t\t\t\t\timage = mfp._getItemToZoom();\r\n\t\t\t\t\t\tif(!image) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\r\n\t\t\t\t\tmfp.wrap.append(animatedImg);\r\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\r\n\t\t\t\t\t}, 16);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\r\n\t\t\t\tif(mfp._allowZoom()) {\r\n\t\t\t\t\tshowMainContent();\r\n\t\t\t\t\tif(animatedImg) {\r\n\t\t\t\t\t\tanimatedImg.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\timage = null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_allowZoom: function() {\r\n\t\t\treturn mfp.currItem.type === 'image';\r\n\t\t},\r\n\r\n\t\t_getItemToZoom: function() {\r\n\t\t\tif(mfp.currItem.hasSize) {\r\n\t\t\t\treturn mfp.currItem.img;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Get element postion relative to viewport\r\n\t\t_getOffset: function(isLarge) {\r\n\t\t\tvar el;\r\n\t\t\tif(isLarge) {\r\n\t\t\t\tel = mfp.currItem.img;\r\n\t\t\t} else {\r\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\r\n\t\t\t}\r\n\r\n\t\t\tvar offset = el.offset();\r\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\r\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\r\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\r\n\r\n\r\n\t\t\t/*\r\n\r\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\r\n\r\n\t\t\t */\r\n\t\t\tvar obj = {\r\n\t\t\t\twidth: el.width(),\r\n\t\t\t\t// fix Zepto height+padding issue\r\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\r\n\t\t\t};\r\n\r\n\t\t\t// I hate to do this, but there is no another option\r\n\t\t\tif( getHasMozTransform() ) {\r\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\r\n\t\t\t} else {\r\n\t\t\t\tobj.left = offset.left;\r\n\t\t\t\tobj.top = offset.top;\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t}\r\n});\r\n\r\n\r\n\r\n/*>>zoom*/\r\n\r\n/*>>iframe*/\r\n\r\nvar IFRAME_NS = 'iframe',\r\n\t_emptyPage = '//about:blank',\r\n\r\n\t_fixIframeBugs = function(isShowing) {\r\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\r\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\r\n\t\t\tif(el.length) {\r\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\r\n\t\t\t\tif(!isShowing) {\r\n\t\t\t\t\tel[0].src = _emptyPage;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// IE8 black screen bug fix\r\n\t\t\t\tif(mfp.isIE8) {\r\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n$.magnificPopup.registerModule(IFRAME_NS, {\r\n\r\n\toptions: {\r\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\r\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\r\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\r\n\t\t\t\t'</div>',\r\n\r\n\t\tsrcAction: 'iframe_src',\r\n\r\n\t\t// we don't care and support only one default type of URL by default\r\n\t\tpatterns: {\r\n\t\t\tyoutube: {\r\n\t\t\t\tindex: 'youtube.com',\r\n\t\t\t\tid: 'v=',\r\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\r\n\t\t\t},\r\n\t\t\tvimeo: {\r\n\t\t\t\tindex: 'vimeo.com/',\r\n\t\t\t\tid: '/',\r\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\r\n\t\t\t},\r\n\t\t\tgmaps: {\r\n\t\t\t\tindex: '//maps.google.',\r\n\t\t\t\tsrc: '%id%&output=embed'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitIframe: function() {\r\n\t\t\tmfp.types.push(IFRAME_NS);\r\n\r\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\r\n\t\t\t\tif(prevType !== newType) {\r\n\t\t\t\t\tif(prevType === IFRAME_NS) {\r\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\r\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\r\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\r\n\t\t\t\t\t}\r\n\t\t\t\t}// else {\r\n\t\t\t\t\t// iframe source is switched, don't do anything\r\n\t\t\t\t//}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\r\n\t\t\t\t_fixIframeBugs();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetIframe: function(item, template) {\r\n\t\t\tvar embedSrc = item.src;\r\n\t\t\tvar iframeSt = mfp.st.iframe;\r\n\r\n\t\t\t$.each(iframeSt.patterns, function() {\r\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\r\n\t\t\t\t\tif(this.id) {\r\n\t\t\t\t\t\tif(typeof this.id === 'string') {\r\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\r\n\t\t\t\t\treturn false; // break;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar dataObj = {};\r\n\t\t\tif(iframeSt.srcAction) {\r\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\r\n\t\t\t}\r\n\t\t\tmfp._parseMarkup(template, dataObj, item);\r\n\r\n\t\t\tmfp.updateStatus('ready');\r\n\r\n\t\t\treturn template;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n\r\n/*>>iframe*/\r\n\r\n/*>>gallery*/\r\n/**\r\n * Get looped index depending on number of slides\r\n */\r\nvar _getLoopedId = function(index) {\r\n\t\tvar numSlides = mfp.items.length;\r\n\t\tif(index > numSlides - 1) {\r\n\t\t\treturn index - numSlides;\r\n\t\t} else  if(index < 0) {\r\n\t\t\treturn numSlides + index;\r\n\t\t}\r\n\t\treturn index;\r\n\t},\r\n\t_replaceCurrTotal = function(text, curr, total) {\r\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\r\n\t};\r\n\r\n$.magnificPopup.registerModule('gallery', {\r\n\r\n\toptions: {\r\n\t\tenabled: false,\r\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\r\n\t\tpreload: [0,2],\r\n\t\tnavigateByImgClick: true,\r\n\t\tarrows: true,\r\n\r\n\t\ttPrev: 'Previous (Left arrow key)',\r\n\t\ttNext: 'Next (Right arrow key)',\r\n\t\ttCounter: '%curr% of %total%'\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitGallery: function() {\r\n\r\n\t\t\tvar gSt = mfp.st.gallery,\r\n\t\t\t\tns = '.mfp-gallery';\r\n\r\n\t\t\tmfp.direction = true; // true - next, false - prev\r\n\r\n\t\t\tif(!gSt || !gSt.enabled ) return false;\r\n\r\n\t\t\t_wrapClasses += ' mfp-gallery';\r\n\r\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\r\n\r\n\t\t\t\tif(gSt.navigateByImgClick) {\r\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\r\n\t\t\t\t\t\tif(mfp.items.length > 1) {\r\n\t\t\t\t\t\t\tmfp.next();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_document.on('keydown'+ns, function(e) {\r\n\t\t\t\t\tif (e.keyCode === 37) {\r\n\t\t\t\t\t\tmfp.prev();\r\n\t\t\t\t\t} else if (e.keyCode === 39) {\r\n\t\t\t\t\t\tmfp.next();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\r\n\t\t\t\tif(data.text) {\r\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\r\n\t\t\t\tvar l = mfp.items.length;\r\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn('BuildControls' + ns, function() {\r\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\r\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\r\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\r\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\r\n\r\n\t\t\t\t\tarrowLeft.click(function() {\r\n\t\t\t\t\t\tmfp.prev();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tarrowRight.click(function() {\r\n\t\t\t\t\t\tmfp.next();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\r\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\r\n\r\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\r\n\t\t\t\t\tmfp.preloadNearbyImages();\r\n\t\t\t\t\tmfp._preloadTimeout = null;\r\n\t\t\t\t}, 16);\r\n\t\t\t});\r\n\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\r\n\t\t\t\t_document.off(ns);\r\n\t\t\t\tmfp.wrap.off('click'+ns);\r\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tnext: function() {\r\n\t\t\tmfp.direction = true;\r\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t},\r\n\t\tprev: function() {\r\n\t\t\tmfp.direction = false;\r\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t},\r\n\t\tgoTo: function(newIndex) {\r\n\t\t\tmfp.direction = (newIndex >= mfp.index);\r\n\t\t\tmfp.index = newIndex;\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t},\r\n\t\tpreloadNearbyImages: function() {\r\n\t\t\tvar p = mfp.st.gallery.preload,\r\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\r\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\r\n\t\t\t\ti;\r\n\r\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\r\n\t\t\t\tmfp._preloadItem(mfp.index+i);\r\n\t\t\t}\r\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\r\n\t\t\t\tmfp._preloadItem(mfp.index-i);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_preloadItem: function(index) {\r\n\t\t\tindex = _getLoopedId(index);\r\n\r\n\t\t\tif(mfp.items[index].preloaded) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar item = mfp.items[index];\r\n\t\t\tif(!item.parsed) {\r\n\t\t\t\titem = mfp.parseEl( index );\r\n\t\t\t}\r\n\r\n\t\t\t_mfpTrigger('LazyLoad', item);\r\n\r\n\t\t\tif(item.type === 'image') {\r\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\r\n\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t}).on('error.mfploader', function() {\r\n\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t\titem.loadError = true;\r\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\r\n\t\t\t\t}).attr('src', item.src);\r\n\t\t\t}\r\n\r\n\r\n\t\t\titem.preloaded = true;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/*>>gallery*/\r\n\r\n/*>>retina*/\r\n\r\nvar RETINA_NS = 'retina';\r\n\r\n$.magnificPopup.registerModule(RETINA_NS, {\r\n\toptions: {\r\n\t\treplaceSrc: function(item) {\r\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\r\n\t\t},\r\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\r\n\t},\r\n\tproto: {\r\n\t\tinitRetina: function() {\r\n\t\t\tif(window.devicePixelRatio > 1) {\r\n\r\n\t\t\t\tvar st = mfp.st.retina,\r\n\t\t\t\t\tratio = st.ratio;\r\n\r\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\r\n\r\n\t\t\t\tif(ratio > 1) {\r\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\r\n\t\t\t\t\t\titem.img.css({\r\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\r\n\t\t\t\t\t\t\t'width': '100%'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\r\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/*>>retina*/\r\n _checkInstance(); }));"]},"metadata":{},"sourceType":"script"}